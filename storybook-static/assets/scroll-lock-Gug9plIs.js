var ze=Object.defineProperty;var Ie=n=>{throw TypeError(n)};var Ge=(n,e,t)=>e in n?ze(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var T=(n,e,t)=>Ge(n,typeof e!="symbol"?e+"":e,t),ge=(n,e,t)=>e.has(n)||Ie("Cannot "+t);var s=(n,e,t)=>(ge(n,e,"read from private field"),t?t.call(n):e.get(n)),u=(n,e,t)=>e.has(n)?Ie("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(n):e.set(n,t),g=(n,e,t,i)=>(ge(n,e,"write to private field"),i?i.call(n,t):e.set(n,t),t),z=(n,e,t)=>(ge(n,e,"access private method"),t);import{x as S,f as de,p as y,g as fe,a as he}from"./props-B4yo3oB_.js";import{h as _,g as w,i as D,u as W,p as X,f as pe,n as ye,a as Z,c as ke,$ as Je,o as Qe}from"./context-ClX-pJyV.js";import{f as be}from"./create-runtime-stories-BeEH6srk.js";import{b as f,u as Ee,w as A,o as $e,e as K,a as Ve,d as et}from"./use-id-45WlqWe6.js";import{a as Se}from"./Icon-COOrz9i5.js";import{n as v,a as tt,b as nt,c as it,d as we,e as Le,i as rt}from"./noop-Bv_UqmjJ.js";import{p as st,C as ot,T as at}from"./kbd-constants-DS5mc9Pr.js";import{S as lt}from"./map-ClooQ1aQ.js";function Te(n,e){return setTimeout(e,n)}function Be(n,e,t,i){const r=Array.isArray(e)?e:[e];return r.forEach(o=>n.addEventListener(o,t,i)),()=>{r.forEach(o=>n.removeEventListener(o,t,i))}}class Me{constructor(e,t={bubbles:!0,cancelable:!0}){T(this,"eventName");T(this,"options");this.eventName=e,this.options=t}createEvent(e){return new CustomEvent(this.eventName,{...this.options,detail:e})}dispatch(e,t){const i=this.createEvent(t);return e.dispatchEvent(i),i}listen(e,t,i){const r=o=>{t(o)};return S(e,this.eventName,r,i)}}function De(n,e=500){let t=null;const i=(...r)=>{t!==null&&clearTimeout(t),t=setTimeout(()=>{n(...r)},e)};return i.destroy=()=>{t!==null&&(clearTimeout(t),t=null)},i}function xe(n,e){return n===e||n.contains(e)}function Ke(n){return(n==null?void 0:n.ownerDocument)??document}function ct(n,e){const{clientX:t,clientY:i}=n,r=e.getBoundingClientRect();return t<r.left||t>r.right||i<r.top||i>r.bottom}globalThis.bitsDismissableLayers??(globalThis.bitsDismissableLayers=new Map);var O,L,C,P,R,I,U,H,E,$,M,_e,ee,V,te,ne,ie,re,q,We,se,oe;class ut{constructor(e){u(this,M);T(this,"opts");u(this,O);u(this,L);u(this,C,{pointerdown:!1});u(this,P,!1);u(this,R,!1);T(this,"node",f(null));u(this,I);u(this,U);u(this,H,_(null));u(this,E,v);u(this,$,e=>{e.defaultPrevented||this.currNode&&Se(()=>{var t,i;!this.currNode||s(this,re).call(this,e.target)||e.target&&!s(this,R)&&((i=(t=s(this,U)).current)==null||i.call(t,e))})});u(this,ee,e=>{let t=e;t.defaultPrevented&&(t=Ne(e)),s(this,O).current(e)});u(this,V,De(e=>{if(!this.currNode){s(this,E).call(this);return}const t=this.opts.isValidEvent.current(e,this.currNode)||pt(e,this.currNode);if(!s(this,P)||z(this,M,We).call(this)||!t){s(this,E).call(this);return}let i=e;if(i.defaultPrevented&&(i=Ne(i)),s(this,L).current!=="close"&&s(this,L).current!=="defer-otherwise-close"){s(this,E).call(this);return}e.pointerType==="touch"?(s(this,E).call(this),g(this,E,Be(s(this,I),"click",s(this,ee),{once:!0}))):s(this,O).current(i)},10));u(this,te,e=>{s(this,C)[e.type]=!0});u(this,ne,e=>{s(this,C)[e.type]=!1});u(this,ie,()=>{this.node.current&&g(this,P,ht(this.node.current))});u(this,re,e=>this.node.current?xe(this.node.current,e):!1);u(this,q,De(()=>{for(const e in s(this,C))s(this,C)[e]=!1;g(this,P,!1)},20));u(this,se,()=>{g(this,R,!0)});u(this,oe,()=>{g(this,R,!1)});T(this,"props",{onfocuscapture:s(this,se),onblurcapture:s(this,oe)});this.opts=e,Ee({id:e.id,ref:this.node,deps:()=>e.enabled.current,onRefChange:r=>{this.currNode=r}}),g(this,L,e.interactOutsideBehavior),g(this,O,e.onInteractOutside),g(this,U,e.onFocusOutside),W(()=>{g(this,I,Ke(this.currNode))});let t=v;const i=()=>{s(this,q).call(this),globalThis.bitsDismissableLayers.delete(this),s(this,V).destroy(),t()};A([()=>this.opts.enabled.current,()=>this.currNode],([r,o])=>{if(!(!r||!o))return Te(1,()=>{this.currNode&&(globalThis.bitsDismissableLayers.set(this,s(this,L)),t(),t=z(this,M,_e).call(this))}),i}),$e(()=>{s(this,q).destroy(),globalThis.bitsDismissableLayers.delete(this),s(this,V).destroy(),s(this,E).call(this),t()})}get currNode(){return w(s(this,H))}set currNode(e){D(s(this,H),de(e))}}O=new WeakMap,L=new WeakMap,C=new WeakMap,P=new WeakMap,R=new WeakMap,I=new WeakMap,U=new WeakMap,H=new WeakMap,E=new WeakMap,$=new WeakMap,M=new WeakSet,_e=function(){return K(S(s(this,I),"pointerdown",K(s(this,te),s(this,ie)),{capture:!0}),S(s(this,I),"pointerdown",K(s(this,ne),s(this,V))),S(s(this,I),"focusin",s(this,$)))},ee=new WeakMap,V=new WeakMap,te=new WeakMap,ne=new WeakMap,ie=new WeakMap,re=new WeakMap,q=new WeakMap,We=function(){return Object.values(s(this,C)).some(Boolean)},se=new WeakMap,oe=new WeakMap;function dt(n){return new ut(n)}function ft(n){return n.findLast(([e,{current:t}])=>t==="close"||t==="ignore")}function ht(n){const e=[...globalThis.bitsDismissableLayers],t=ft(e);if(t)return t[0].node.current===n;const[i]=e[0];return i.node.current===n}function pt(n,e){if("button"in n&&n.button>0)return!1;const t=n.target;return tt(t)?Ke(t).documentElement.contains(t)&&!xe(e,t)&&ct(n,e):!1}function Ne(n){const e=n.currentTarget,t=n.target;let i;n instanceof PointerEvent?i=new PointerEvent(n.type,n):i=new PointerEvent("pointerdown",n);let r=!1;return new Proxy(i,{get:(c,l)=>l==="currentTarget"?e:l==="target"?t:l==="preventDefault"?()=>{r=!0,typeof c.preventDefault=="function"&&c.preventDefault()}:l==="defaultPrevented"?r:l in c?c[l]:n[l]})}function yt(n,e){X(e,!0);let t=y(e,"interactOutsideBehavior",3,"close"),i=y(e,"onInteractOutside",3,v),r=y(e,"onFocusOutside",3,v),o=y(e,"isValidEvent",3,()=>!1);const c=dt({id:f.with(()=>e.id),interactOutsideBehavior:f.with(()=>t()),onInteractOutside:f.with(()=>i()),enabled:f.with(()=>e.enabled),onFocusOutside:f.with(()=>r()),isValidEvent:f.with(()=>o())});var l=fe(),d=pe(l);be(d,()=>e.children??ye,()=>({props:c.props})),he(n,l),Z()}yt.__docgen={data:[{name:"enabled",visibility:"public",description:"Whether the layer is enabled.",keywords:[{name:"required",description:""}],kind:"let",type:{kind:"type",type:"boolean",text:"boolean"},static:!1,readonly:!1},{name:"id",visibility:"public",description:"ID of the layer.",keywords:[{name:"required",description:""}],kind:"let",type:{kind:"type",type:"string",text:"string"},static:!1,readonly:!1},{name:"isValidEvent",visibility:"public",description:`Provide a custom event validator function to determine if the event should be
considered a dismissal event. This was added to handle the case where a user
has one context menu open and right clicks on another context menu. We normally ignore
right clicks for "close" events, but in this case we want to close the context menu when
another is open.`,keywords:[],kind:"let",type:{kind:"function",text:"(e: PointerEvent, node: HTMLElement) => boolean"},static:!1,readonly:!1,defaultValue:"function"},{name:"children",visibility:"public",keywords:[],kind:"let",type:{kind:"function",text:"Snippet<[{ props: Record<string, unknown>; }]>"},static:!1,readonly:!1},{name:"onInteractOutside",visibility:"public",description:"Callback fired when an outside interaction event completes,\nwhich is either a `pointerup`, `mouseup`, or `touchend`\nevent, depending on the user's input device.",keywords:[],kind:"let",type:{kind:"function",text:"InteractOutsideEventHandler"},static:!1,readonly:!1,defaultValue:"function"},{name:"interactOutsideBehavior",visibility:"public",description:"Interact outside behavior type.\n`close`: Closes the element immediately.\n`defer-otherwise-close`: Delegates the action to the parent element. If no parent is found, it closes the element.\n`defer-otherwise-ignore`: Delegates the action to the parent element. If no parent is found, nothing is done.\n`ignore`: Prevents the element from closing and also blocks the parent element from closing in response to an outside interaction.",keywords:[],kind:"let",type:{kind:"union",type:[{kind:"const",type:"string",value:"close",text:'"close"'},{kind:"const",type:"string",value:"defer-otherwise-close",text:'"defer-otherwise-close"'},{kind:"const",type:"string",value:"defer-otherwise-ignore",text:'"defer-otherwise-ignore"'},{kind:"const",type:"string",value:"ignore",text:'"ignore"'}],text:'"close" | "defer-otherwise-close" | "defer-otherwise-ignore" | "ignore"'},static:!1,readonly:!1,defaultValue:'"close"'},{name:"onFocusOutside",visibility:"public",description:"Callback fired when focus leaves the dismissible layer.",keywords:[],kind:"let",type:{kind:"function",text:"(event: FocusEvent) => void"},static:!1,readonly:!1,defaultValue:"function"}],name:"dismissible-layer.svelte"};globalThis.bitsEscapeLayers??(globalThis.bitsEscapeLayers=new Map);var ae,le;class bt{constructor(e){T(this,"opts");u(this,ae,()=>S(document,"keydown",s(this,le),{passive:!1}));u(this,le,e=>{if(e.key!==st||!mt(this))return;const t=new KeyboardEvent(e.type,e);e.preventDefault();const i=this.opts.escapeKeydownBehavior.current;i!=="close"&&i!=="defer-otherwise-close"||this.opts.onEscapeKeydown.current(t)});this.opts=e;let t=v;A(()=>e.enabled.current,i=>(i&&(globalThis.bitsEscapeLayers.set(this,e.escapeKeydownBehavior),t=s(this,ae).call(this)),()=>{t(),globalThis.bitsEscapeLayers.delete(this)}))}}ae=new WeakMap,le=new WeakMap;function vt(n){return new bt(n)}function mt(n){const e=[...globalThis.bitsEscapeLayers],t=e.findLast(([r,{current:o}])=>o==="close"||o==="ignore");if(t)return t[0]===n;const[i]=e[0];return i===n}function gt(n,e){X(e,!0);let t=y(e,"escapeKeydownBehavior",3,"close"),i=y(e,"onEscapeKeydown",3,v);vt({escapeKeydownBehavior:f.with(()=>t()),onEscapeKeydown:f.with(()=>i()),enabled:f.with(()=>e.enabled)});var r=fe(),o=pe(r);be(o,()=>e.children??ye),he(n,r),Z()}gt.__docgen={data:[{name:"enabled",visibility:"public",description:"Whether the layer is enabled. Currently, we determine this with the\n`presence` returned from the `presence` layer.",keywords:[{name:"required",description:""}],kind:"let",type:{kind:"type",type:"boolean",text:"boolean"},static:!1,readonly:!1},{name:"children",visibility:"public",keywords:[],kind:"let",type:{kind:"function",text:"Snippet<[]>"},static:!1,readonly:!1},{name:"onEscapeKeydown",visibility:"public",description:"Callback fired when escape is pressed.",keywords:[],kind:"let",type:{kind:"function",text:"(e: KeyboardEvent) => void"},static:!1,readonly:!1,defaultValue:"function"},{name:"escapeKeydownBehavior",visibility:"public",description:"Escape behavior type.\n`close`: Closes the element immediately.\n`defer-otherwise-close`: Delegates the action to its parent component that has an\nescape keydown handler. If no parent is found, it closes the element.\n`defer-otherwise-ignore`: Delegates the action to the parent element. If no parent is found, nothing is done.\n`ignore`: Prevents the element from closing and also blocks the parent element from closing in response to an escape key press.",keywords:[],kind:"let",type:{kind:"union",type:[{kind:"const",type:"string",value:"close",text:'"close"'},{kind:"const",type:"string",value:"defer-otherwise-close",text:'"defer-otherwise-close"'},{kind:"const",type:"string",value:"defer-otherwise-ignore",text:'"defer-otherwise-ignore"'},{kind:"const",type:"string",value:"ignore",text:'"ignore"'}],text:'"close" | "defer-otherwise-close" | "defer-otherwise-ignore" | "ignore"'},static:!1,readonly:!1,defaultValue:'"close"'}],name:"escape-layer.svelte"};const x=f([]);function wt(){return{add(n){const e=x.current[0];e&&n.id!==e.id&&e.pause(),x.current=Ae(x.current,n),x.current.unshift(n)},remove(n){var e;x.current=Ae(x.current,n),(e=x.current[0])==null||e.resume()},get current(){return x.current}}}function kt(){let n=_(!1),e=_(!1);return{id:Ve(),get paused(){return w(n)},get isHandlingFocus(){return w(e)},set isHandlingFocus(t){D(e,de(t))},pause(){D(n,!0)},resume(){D(n,!1)}}}function Ae(n,e){return[...n].filter(t=>t.id!==e.id)}function Et(n){return n.filter(e=>e.tagName!=="A")}function F(n,{select:e=!1}={}){if(!(n&&n.focus)||document.activeElement===n)return;const t=document.activeElement;n.focus({preventScroll:!0}),n!==t&&nt(n)&&e&&n.select()}function St(n,{select:e=!1}={}){const t=document.activeElement;for(const i of n)if(F(i,{select:e}),document.activeElement!==t)return!0}function Oe(n,e){for(const t of n)if(!it(t,e))return t}function Ue(n){const e=[],t=document.createTreeWalker(n,NodeFilter.SHOW_ELEMENT,{acceptNode:i=>{const r=i.tagName==="INPUT"&&i.type==="hidden";return i.disabled||i.hidden||r?NodeFilter.FILTER_SKIP:i.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;t.nextNode();)e.push(t.currentNode);return e}function Tt(n){const e=Ue(n),t=Oe(e,n),i=Oe(e.reverse(),n);return[t,i]}/*!
* tabbable 6.2.0
* @license MIT, https://github.com/focus-trap/tabbable/blob/master/LICENSE
*/var xt=["input:not([inert])","select:not([inert])","textarea:not([inert])","a[href]:not([inert])","button:not([inert])","[tabindex]:not(slot):not([inert])","audio[controls]:not([inert])","video[controls]:not([inert])",'[contenteditable]:not([contenteditable="false"]):not([inert])',"details>summary:first-of-type:not([inert])","details:not([inert])"],Ft=xt.join(","),He=typeof Element>"u",J=He?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,Q=!He&&Element.prototype.getRootNode?function(n){var e;return n==null||(e=n.getRootNode)===null||e===void 0?void 0:e.call(n)}:function(n){return n==null?void 0:n.ownerDocument},Ct=function n(e,t){var i;t===void 0&&(t=!0);var r=e==null||(i=e.getAttribute)===null||i===void 0?void 0:i.call(e,"inert"),o=r===""||r==="true",c=o||t&&e&&n(e.parentNode);return c},It=function(e){var t,i=e==null||(t=e.getAttribute)===null||t===void 0?void 0:t.call(e,"contenteditable");return i===""||i==="true"},Lt=function(e){return!isNaN(parseInt(e.getAttribute("tabindex"),10))},Dt=function(e){if(!e)throw new Error("No node provided");return e.tabIndex<0&&(/^(AUDIO|VIDEO|DETAILS)$/.test(e.tagName)||It(e))&&!Lt(e)?0:e.tabIndex},qe=function(e){return e.tagName==="INPUT"},Nt=function(e){return qe(e)&&e.type==="hidden"},At=function(e){var t=e.tagName==="DETAILS"&&Array.prototype.slice.apply(e.children).some(function(i){return i.tagName==="SUMMARY"});return t},Ot=function(e,t){for(var i=0;i<e.length;i++)if(e[i].checked&&e[i].form===t)return e[i]},Pt=function(e){if(!e.name)return!0;var t=e.form||Q(e),i=function(l){return t.querySelectorAll('input[type="radio"][name="'+l+'"]')},r;if(typeof window<"u"&&typeof window.CSS<"u"&&typeof window.CSS.escape=="function")r=i(window.CSS.escape(e.name));else try{r=i(e.name)}catch(c){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",c.message),!1}var o=Ot(r,e.form);return!o||o===e},Rt=function(e){return qe(e)&&e.type==="radio"},Vt=function(e){return Rt(e)&&!Pt(e)},Bt=function(e){var t,i=e&&Q(e),r=(t=i)===null||t===void 0?void 0:t.host,o=!1;if(i&&i!==e){var c,l,d;for(o=!!((c=r)!==null&&c!==void 0&&(l=c.ownerDocument)!==null&&l!==void 0&&l.contains(r)||e!=null&&(d=e.ownerDocument)!==null&&d!==void 0&&d.contains(e));!o&&r;){var b,m,N;i=Q(r),r=(b=i)===null||b===void 0?void 0:b.host,o=!!((m=r)!==null&&m!==void 0&&(N=m.ownerDocument)!==null&&N!==void 0&&N.contains(r))}}return o},Pe=function(e){var t=e.getBoundingClientRect(),i=t.width,r=t.height;return i===0&&r===0},Mt=function(e,t){var i=t.displayCheck,r=t.getShadowRoot;if(getComputedStyle(e).visibility==="hidden")return!0;var o=J.call(e,"details>summary:first-of-type"),c=o?e.parentElement:e;if(J.call(c,"details:not([open]) *"))return!0;if(!i||i==="full"||i==="legacy-full"){if(typeof r=="function"){for(var l=e;e;){var d=e.parentElement,b=Q(e);if(d&&!d.shadowRoot&&r(d)===!0)return Pe(e);e.assignedSlot?e=e.assignedSlot:!d&&b!==e.ownerDocument?e=b.host:e=d}e=l}if(Bt(e))return!e.getClientRects().length;if(i!=="legacy-full")return!0}else if(i==="non-zero-area")return Pe(e);return!1},Kt=function(e){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(e.tagName))for(var t=e.parentElement;t;){if(t.tagName==="FIELDSET"&&t.disabled){for(var i=0;i<t.children.length;i++){var r=t.children.item(i);if(r.tagName==="LEGEND")return J.call(t,"fieldset[disabled] *")?!0:!r.contains(e)}return!0}t=t.parentElement}return!1},_t=function(e,t){return!(t.disabled||Ct(t)||Nt(t)||Mt(t,e)||At(t)||Kt(t))},Wt=function(e,t){return!(Vt(t)||Dt(t)<0||!_t(e,t))},Ut=function(e,t){if(t=t||{},!e)throw new Error("No node provided");return J.call(e,Ft)===!1?!1:Wt(t,e)};const Ht=new Me("focusScope.autoFocusOnMount",{bubbles:!1,cancelable:!0}),qt=new Me("focusScope.autoFocusOnDestroy",{bubbles:!1,cancelable:!0}),jt=new ot("FocusScope");function Yt({id:n,loop:e,enabled:t,onOpenAutoFocus:i,onCloseAutoFocus:r,forceMount:o}){const c=wt(),l=kt(),d=f(null),b=jt.getOr({ignoreCloseAutoFocus:!1});let m=null;Ee({id:n,ref:d,deps:()=>t.current});function N(a){if(!(l.paused||!d.current||l.isHandlingFocus)){l.isHandlingFocus=!0;try{const p=a.target;if(!we(p))return;const h=d.current.contains(p);if(a.type==="focusin")if(h)m=p;else{if(b.ignoreCloseAutoFocus)return;F(m,{select:!0})}else a.type==="focusout"&&!h&&!b.ignoreCloseAutoFocus&&F(m,{select:!0})}finally{l.isHandlingFocus=!1}}}function Ye(a){var h;!((h=d.current)==null?void 0:h.contains(m))&&d.current&&F(d.current)}A([()=>d.current,()=>t.current],([a,p])=>{if(!a||!p)return;const h=K(S(document,"focusin",N),S(document,"focusout",N)),k=new MutationObserver(Ye);return k.observe(a,{childList:!0,subtree:!0}),()=>{h(),k.disconnect()}}),A([()=>o.current,()=>d.current],([a,p])=>{if(a)return;const h=document.activeElement;return Fe(p,h),()=>{p&&Ce(h)}}),A([()=>o.current,()=>d.current,()=>t.current],([a,p])=>{if(!a)return;const h=document.activeElement;return Fe(p,h),()=>{p&&Ce(h)}});function Fe(a,p){if(a||(a=document.getElementById(n.current)),!a||!t.current)return;if(c.add(l),!a.contains(p)){const k=Ht.createEvent();i.current(k),k.defaultPrevented||Se(()=>{a&&(St(Et(Ue(a)),{select:!0}),document.activeElement===p&&F(a))})}}function Ce(a){const p=qt.createEvent();r.current(p);const h=b.ignoreCloseAutoFocus;Te(0,()=>{!p.defaultPrevented&&a&&!h&&F(Ut(a)?a:document.body,{select:!0}),c.remove(l)})}function Xe(a){if(!t.current||!e.current&&!t.current||l.paused)return;const p=a.key===at&&!a.ctrlKey&&!a.altKey&&!a.metaKey,h=document.activeElement;if(!(p&&h))return;const k=d.current;if(!k)return;const[ve,me]=Tt(k);ve&&me?!a.shiftKey&&h===me?(a.preventDefault(),e.current&&F(ve,{select:!0})):a.shiftKey&&h===ve&&(a.preventDefault(),e.current&&F(me,{select:!0})):h===k&&a.preventDefault()}const Ze=ke(()=>({id:n.current,tabindex:-1,onkeydown:Xe}));return{get props(){return w(Ze)}}}function Xt(n,e){X(e,!0);let t=y(e,"trapFocus",3,!1),i=y(e,"loop",3,!1),r=y(e,"onCloseAutoFocus",3,v),o=y(e,"onOpenAutoFocus",3,v),c=y(e,"forceMount",3,!1);const l=Yt({enabled:f.with(()=>t()),loop:f.with(()=>i()),onCloseAutoFocus:f.with(()=>r()),onOpenAutoFocus:f.with(()=>o()),id:f.with(()=>e.id),forceMount:f.with(()=>c())});var d=fe(),b=pe(d);be(b,()=>e.focusScope??ye,()=>({props:l.props})),he(n,d),Z()}Xt.__docgen={data:[{name:"id",visibility:"public",description:"The ID of the focus scope container node.",keywords:[{name:"required",description:""}],kind:"let",type:{kind:"type",type:"string",text:"string"},static:!1,readonly:!1},{name:"focusScope",visibility:"public",description:"The snippet to render the focus scope container with its props.",keywords:[],kind:"let",type:{kind:"function",text:"Snippet<[{ props: FocusScopeContainerProps; }]>"},static:!1,readonly:!1},{name:"loop",visibility:"public",description:"When `true` will loop through the tabbable elements in the focus scope.",keywords:[],kind:"let",type:{kind:"type",type:"boolean",text:"boolean"},static:!1,readonly:!1,defaultValue:"false"},{name:"forceMount",visibility:"public",description:"Whether the content within the focus trap is being force mounted or not.",keywords:[],kind:"let",type:{kind:"type",type:"boolean",text:"boolean"},static:!1,readonly:!1,defaultValue:"false"},{name:"onOpenAutoFocus",visibility:"public",description:`Event handler called when auto-focusing on open.
Can be prevented.`,keywords:[],kind:"let",type:{kind:"function",text:"EventCallback"},static:!1,readonly:!1,defaultValue:"function"},{name:"onCloseAutoFocus",visibility:"public",description:`Event handler called when auto-focusing on close.
Can be prevented.`,keywords:[],kind:"let",type:{kind:"function",text:"EventCallback"},static:!1,readonly:!1,defaultValue:"function"},{name:"trapFocus",visibility:"public",description:"Whether focus is trapped within the focus scope.",keywords:[],kind:"let",type:{kind:"type",type:"boolean",text:"boolean"},static:!1,readonly:!1,defaultValue:"false"}],name:"focus-scope.svelte"};globalThis.bitsTextSelectionLayers??(globalThis.bitsTextSelectionLayers=new Map);var B,j,ce,je,ue,Y;class Zt{constructor(e){u(this,ce);T(this,"opts");u(this,B,v);u(this,j,f(null));u(this,ue,e=>{const t=s(this,j).current,i=e.target;!we(t)||!we(i)||!this.opts.enabled.current||!Jt(this)||!xe(t,i)||(this.opts.onPointerDown.current(e),!e.defaultPrevented&&g(this,B,Gt(t)))});u(this,Y,()=>{s(this,B).call(this),g(this,B,v)});this.opts=e,Ee({id:e.id,ref:s(this,j),deps:()=>this.opts.enabled.current});let t=v;A(()=>this.opts.enabled.current,i=>(i&&(globalThis.bitsTextSelectionLayers.set(this,this.opts.enabled),t(),t=z(this,ce,je).call(this)),()=>{t(),s(this,Y).call(this),globalThis.bitsTextSelectionLayers.delete(this)}))}}B=new WeakMap,j=new WeakMap,ce=new WeakSet,je=function(){return K(S(document,"pointerdown",s(this,ue)),S(document,"pointerup",et(s(this,Y),this.opts.onPointerUp.current)))},ue=new WeakMap,Y=new WeakMap;function zt(n){return new Zt(n)}const Re=n=>n.style.userSelect||n.style.webkitUserSelect;function Gt(n){const e=document.body,t=Re(e),i=Re(n);return G(e,"none"),G(n,"text"),()=>{G(e,t),G(n,i)}}function G(n,e){n.style.userSelect=e,n.style.webkitUserSelect=e}function Jt(n){const e=[...globalThis.bitsTextSelectionLayers];if(!e.length)return!1;const t=e.at(-1);return t?t[0]===n:!1}function Qt(n,e){X(e,!0);let t=y(e,"preventOverflowTextSelection",3,!0),i=y(e,"onPointerDown",3,v),r=y(e,"onPointerUp",3,v);zt({id:f.with(()=>e.id),preventOverflowTextSelection:f.with(()=>t()),onPointerDown:f.with(()=>i()),onPointerUp:f.with(()=>r()),enabled:f.with(()=>e.enabled)});var o=fe(),c=pe(o);be(c,()=>e.children??ye),he(n,o),Z()}Qt.__docgen={data:[{name:"enabled",visibility:"public",description:"Whether the layer is enabled. Currently, we determine this with the\n`presence` returned from the `presence` layer.",keywords:[{name:"required",description:""}],kind:"let",type:{kind:"type",type:"boolean",text:"boolean"},static:!1,readonly:!1},{name:"id",visibility:"public",description:"DOM ID of the node.",keywords:[{name:"required",description:""}],kind:"let",type:{kind:"type",type:"string",text:"string"},static:!1,readonly:!1},{name:"children",visibility:"public",keywords:[],kind:"let",type:{kind:"function",text:"Snippet<[]>"},static:!1,readonly:!1},{name:"onPointerDown",visibility:"public",description:"Callback fired when pointerdown event triggers. Call `preventDefault()`\nto disable the prevention of text-selection overflow.",keywords:[],kind:"let",type:{kind:"function",text:"PointerHandler"},static:!1,readonly:!1,defaultValue:"function"},{name:"onPointerUp",visibility:"public",description:"Callback fired when pointerup event triggers.",keywords:[],kind:"let",type:{kind:"function",text:"PointerHandler"},static:!1,readonly:!1,defaultValue:"function"},{name:"preventOverflowTextSelection",visibility:"public",description:"Passing `true` will prevent the overflow of text selection\noutside the element, provided the element is the top layer.",keywords:[],kind:"let",type:{kind:"type",type:"boolean",text:"boolean"},static:!1,readonly:!1,defaultValue:"true"}],name:"text-selection-layer.svelte"};function $t(n){let e=0,t=_(void 0),i;function r(){e-=1,i&&e<=0&&(i(),D(t,void 0),i=void 0)}return(...o)=>(e+=1,w(t)===void 0&&(i=Je(()=>{D(t,de(n(...o)))})),W(()=>()=>{r()}),w(t))}const en=$t(()=>{const n=new lt,e=ke(()=>{for(const o of n.values())if(o)return!0;return!1});let t=_(null),i=null;function r(){rt&&(document.body.setAttribute("style",w(t)??""),document.body.style.removeProperty("--scrollbar-width"),Le&&(i==null||i()))}return W(()=>{const o=w(e);return Qe(()=>{if(!o)return;D(t,de(document.body.getAttribute("style")));const c=getComputedStyle(document.body),l=window.innerWidth-document.documentElement.clientWidth,b={padding:Number.parseInt(c.paddingRight??"0",10)+l,margin:Number.parseInt(c.marginRight??"0",10)};l>0&&(document.body.style.paddingRight=`${b.padding}px`,document.body.style.marginRight=`${b.margin}px`,document.body.style.setProperty("--scrollbar-width",`${l}px`),document.body.style.overflow="hidden"),Le&&(i=Be(document,"touchmove",m=>{m.target===document.documentElement&&(m.touches.length>1||m.preventDefault())},{passive:!1})),Se(()=>{document.body.style.pointerEvents="none",document.body.style.overflow="hidden"})})}),W(()=>()=>{i==null||i()}),{get map(){return n},resetBodyStyle:r}});function tn(n,e=()=>null){const t=Ve(),i=en();if(!i)return;const r=ke(e);i.map.set(t,n??!1);const o=f.with(()=>i.map.get(t)??!1,c=>i.map.set(t,c));return W(()=>()=>{i.map.delete(t),!nn(i.map)&&(w(r)===null?requestAnimationFrame(()=>i.resetBodyStyle()):Te(w(r),()=>i.resetBodyStyle()))}),o}function nn(n){for(const[e,t]of n)if(t)return!0;return!1}function rn(n,e){X(e,!0);let t=y(e,"preventScroll",3,!0),i=y(e,"restoreScrollDelay",3,null);tn(t(),()=>i()),Z()}rn.__docgen={data:[{name:"preventScroll",visibility:"public",description:"Whether to prevent body scrolling when the content is open.",keywords:[],kind:"let",type:{kind:"type",type:"boolean",text:"boolean"},static:!1,readonly:!1,defaultValue:"true"},{name:"restoreScrollDelay",visibility:"public",description:"The delay in milliseconds before the scrollbar is restored after closing the\ndialog. This is only applicable when using the `child` snippet for custom\ntransitions and `preventScroll` is `true`. You should set this to a value\ngreater than the transition duration to prevent content from shifting during\nthe transition.",keywords:[],kind:"let",type:{kind:"type",type:"number",text:"number"},static:!1,readonly:!1,defaultValue:"null"}],name:"scroll-lock.svelte"};export{yt as D,gt as E,Xt as F,rn as S,Qt as T};
