import{E as N,n as S,o as Q,q as G,u as W}from"./props-B4yo3oB_.js";import{h as Y}from"./hydration-C_mtSyjW.js";import{y as Z,w as $,g as B,d as j,B as J,x as K,A as ee,I as H,F as U,z as O,G as V,H as re,D as z,J as ne,K as ae,L as ie,M as fe,C as le,N as ue,v as te}from"./context-ClX-pJyV.js";function pe(f,e){return e}function ve(f,e,r,t){for(var s=[],d=e.length,o=0;o<d;o++)ae(e[o].e,s,!0);var _=d>0&&s.length===0&&r!==null;if(_){var h=r.parentNode;ie(h),h.append(r),t.clear(),x(f,e[0].prev,e[d-1].next)}fe(s,()=>{for(var c=0;c<d;c++){var v=e[c];_||(t.delete(v.k),x(f,v.prev,v.next)),le(v.e,!_)}})}function Ee(f,e,r,t,s,d=null){var o=f,_={flags:e,items:new Map,first:null},h=(e&G)!==0;if(h){var c=f;o=c.appendChild(Z())}var v=null,I=!1,a=j(()=>{var u=r();return ne(u)?u:u==null?[]:U(u)});$(()=>{var u=B(a),n=u.length;I&&n===0||(I=n===0,se(u,_,o,s,e,t,r),d!==null&&(n===0?v?J(v):v=K(()=>d(o)):v!==null&&ee(v,()=>{v=null})),B(a))})}function se(f,e,r,t,s,d,o){var D,L,R,q;var _=(s&W)!==0,h=(s&(S|N))!==0,c=f.length,v=e.items,I=e.first,a=I,u,n=null,g,p=[],E=[],C,A,i,l;if(_)for(l=0;l<c;l+=1)C=f[l],A=d(C,l),i=v.get(A),i!==void 0&&((D=i.a)==null||D.measure(),(g??(g=new Set)).add(i));for(l=0;l<c;l+=1){if(C=f[l],A=d(C,l),i=v.get(A),i===void 0){var X=a?a.e.nodes_start:r;n=oe(X,e,n,n===null?e.first:n.next,C,A,l,t,s,o),v.set(A,n),p=[],E=[],a=n.next;continue}if(h&&de(i,C,l,s),i.e.f&H&&(J(i.e),_&&((L=i.a)==null||L.unfix(),(g??(g=new Set)).delete(i))),i!==a){if(u!==void 0&&u.has(i)){if(p.length<E.length){var T=E[0],m;n=T.prev;var b=p[0],M=p[p.length-1];for(m=0;m<p.length;m+=1)F(p[m],T,r);for(m=0;m<E.length;m+=1)u.delete(E[m]);x(e,b.prev,M.next),x(e,n,b),x(e,M,T),a=T,n=M,l-=1,p=[],E=[]}else u.delete(i),F(i,a,r),x(e,i.prev,i.next),x(e,i,n===null?e.first:n.next),x(e,n,i),n=i;continue}for(p=[],E=[];a!==null&&a.k!==A;)a.e.f&H||(u??(u=new Set)).add(a),E.push(a),a=a.next;if(a===null)continue;i=a}p.push(i),n=i,a=i.next}if(a!==null||u!==void 0){for(var w=u===void 0?[]:U(u);a!==null;)a.e.f&H||w.push(a),a=a.next;var k=w.length;if(k>0){var P=s&G&&c===0?r:null;if(_){for(l=0;l<k;l+=1)(R=w[l].a)==null||R.measure();for(l=0;l<k;l+=1)(q=w[l].a)==null||q.fix()}ve(e,w,P,v)}}_&&te(()=>{var y;if(g!==void 0)for(i of g)(y=i.a)==null||y.apply()}),O.first=e.first&&e.first.e,O.last=n&&n.e}function de(f,e,r,t){t&S&&V(f.v,e),t&N?V(f.i,r):f.i=r}function oe(f,e,r,t,s,d,o,_,h,c){var v=(h&S)!==0,I=(h&Q)===0,a=v?I?re(s):z(s):s,u=h&N?z(o):o,n={i:u,v:a,k:d,a:null,e:null,prev:r,next:t};try{return n.e=K(()=>_(f,a,u,c),Y),n.e.prev=r&&r.e,n.e.next=t&&t.e,r===null?e.first=n:(r.next=n,r.e.next=n.e),t!==null&&(t.prev=n,t.e.prev=n.e),n}finally{}}function F(f,e,r){for(var t=f.next?f.next.e.nodes_start:r,s=e?e.e.nodes_start:r,d=f.e.nodes_start;d!==t;){var o=ue(d);s.before(d),d=o}}function x(f,e,r){e===null?f.first=r:(e.next=r,e.e.next=r&&r.e),r!==null&&(r.prev=e,r.e.prev=e&&e.e)}export{Ee as e,pe as i};
